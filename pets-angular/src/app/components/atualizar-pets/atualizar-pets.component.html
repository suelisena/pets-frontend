
<main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
    <h3 class="h3">Atualizar Pets Cadastrados</h3>
    </div>
    <div class="input-group" ng-controller="listcontroller">
      <input class="form-control" type="text" name="search" [(ngModel)]="searchText" placeholder="Pesquise na tabela" />
  </div>
    <table tableResize class="table caption-top table-bordered" id="content" #content style="margin-top:15px;">
      <thead>
        <tr>
          <th scope="col" (click)="sort('id')">ID&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('nome')">Nome&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('idade')">Idade&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('sexo')">Sexo&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('especie')">Espécie&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('raca')">Raça&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('tamanho')">Tamanho&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col" (click)="sort('cor')">Cor&nbsp;<i class="bi bi-arrow-down-up"></i></th>
          <th scope="col">Ações</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor = "let pet of pets | filter:searchText | paginate: { itemsPerPage: 8, currentPage: p } | orderBy: key:reverse">
          <td>{{ pet.id}}</td>
          <td>{{ pet.nome}}</td>
          <td>{{ pet.idade}}</td>
          <td>{{ pet.sexo}}</td>
          <td>{{ pet.especie}}</td>
          <td>{{ pet.raca}}</td>
          <td>{{ pet.tamanho}}</td>
          <td>{{ pet.cor}}</td>
          <td>
            <button class="btn btn-sm btn-primary" (click)="open(mymodal)">Atualizar</button>
          </td>

          <ng-template #mymodal let-modal>
            <div class="modal-header">
              <h4 class="modal-title" id="modal-basic-title">Atualizar Pet</h4>
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')" style="border: none;">
                <span aria-hidden="true">X</span>
              </button>
            </div>
            <form [formGroup]="formUpdade">
            <div class="modal-body">
              <div class="modal-body mx-3">
                <div class="md-form mb-5">
                  <div class="col-md-12 mb-3">

                    <div class="col-md-12 mb-3">
                      <label for="validationCustom01">ID</label>
                      <input type="text" class="form-control" id="id" placeholder="" value=""
                      formControlName="id" [(ngModel)]="pet.id" name="id">
                    </div>

                    <div class="col-md-12 mb-3">
                      <label for="validationCustom01">Nome</label>
                      <input type="text" class="form-control" id="nome" placeholder="" value=""
                      formControlName="nome" [(ngModel)]="pet.nome" name="nome">
                    </div>
                    <div class="col-md-12 mb-4">
                      <label for="validationCustom02">Raça</label>
                      <input type="text" class="form-control" id="raca" placeholder="" value=""
                      formControlName="raca" [(ngModel)]="pet.raca" name="raca">
                    </div>
                    <div class="col-md-12 mb-3">
                      <label for="validationCustomUsername">Espécie</label>
                      <div class="input-group">
                        <input type="text" class="form-control" id="validationCustomUsername" placeholder="" aria-describedby="inputGroupPrepend"
                        formControlName="especie" [(ngModel)]="pet.especie" name="especie">
                      </div>
                    </div>
                    <div class="col-md-12 mb-3">
                      <label for="validationCustom03">Tamanho</label>
                      <input type="text" class="form-control" id="validationCustom03" placeholder=""
                      formControlName="tamanho" [(ngModel)]="pet.tamanho" name="tamanho">
                    </div>
                  </div>

                  <div class="form-row lado">
                    <div class="col-md-12 mb-3">
                      <label for="validationCustom04">Cor</label>
                      <input type="text" class="form-control" id="validationCustom04" placeholder=""
                      formControlName="cor" [(ngModel)]="pet.cor" name="cor">
                    </div>
                    <div class="col-md-12 mb-3">
                      <label for="validationCustom05">Idade</label>
                      <input type="number" class="form-control" id="validationCustom05" placeholder=""
                      formControlName="idade" [(ngModel)]="pet.idade" name="idade" value="0">
                    </div>
                    <div class="col-md-12 mb-3">
                      <label for="validationCustom05">Sexo</label>
                      <select id="inputState" class="form-control" formControlName="sexo" [(ngModel)]="pet.sexo" name="sexo">
                        <option selected>Escolha</option>
                        <option>Feminino</option>
                        <option>Masculino</option>
                      </select>
                    </div>
            </div>
            <div class="modal-footer">
            <button type="button" class="btn btn-secondary" (click)="modal.close('Save click')" id="button-modal">Fechar</button>
            <button type="button" class="btn btn-primary"(click)="AtualizarPet();"(click)="modal.close('Save click')" id="button-modal">Atualizar</button>
            </div>
            </div>
            </div>
            </div>
          </form>
          </ng-template>

        </tr>
      </tbody>

    </table>

  <div><pagination-controls (pageChange)="p = $event"></pagination-controls></div>
  </main>
